<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge" /> -->
    <title>ESPWebsite</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="../static/style.css" type="text/css" />
    <link rel="icon" href="../static/favicon.png">

    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>

</head>

<body>
    <div class="wrapper">
        <div class="topbar"></div>
        <input type="checkbox" id="menuToggler" class="input-toggler" value="1" autofocus="true" />
        <label for="menuToggler" id="menuTogglerLabel" class="menu-toggler" role="button" aria-pressed="false" aria-expanded="false" aria-label="Navigation button">
        <span class="menu-toggler__line"></span>
        <span class="menu-toggler__line"></span>
        <span class="menu-toggler__line"></span>
      </label>
        <nav id="sidebar" class="sidebar" role="navigation" aria-labelledby="menuTogglerLabel" aria-hidden="true">
            <ul id="menubar" class="menu" role="menubar" aria-orientation="vertical">
                <li class="menu_item" role "none" style="background-color: #1b1a20; box-shadow: inset 0 8px 5px -5px rgba(0,0,0,0.2), inset 0 -8px 5px -5px rgba(0,0,0,0.2);"><a class="menu__link" href="#" role="menuitem" tabindex="-1">Controls</a></li>
                <li class="menu_item" role "none"><a class="menu__link" href="#" role="menuitem" tabindex="-1">Setup</a></li>
                <li class="menu_item" role "none"><a class="menu__link" href="#" role="menuitem" tabindex="-1">Network</a></li>
            </ul>
        </nav>
        <main class="content">
            <!-- possible Information for Tabs:
            Controls:
                - Devices visualized as "cards"
                - Color Wheels for every Device
                - Custom colors list
                - Option to add custom colors
                - Animations?
            Setup:
                - Connected Devices
                - Devices waiting to connect
                - Networks
            Network: 
                - Mesh Overview
                - Data transferred in certain amount of time
                - Uptime
                - Errors?
                - Log           
            -->
            {{controllers|safe}}
        </main>
        <script type="text/javascript">
            let menuToggler = document.getElementById('menuToggler');
            let menuTogglerLabel = document.getElementById('menuTogglerLabel');
            let sidebar = document.getElementById('sidebar');
            let menuLinks = document.getElementsByClassName('menu__link');

            menuToggler.addEventListener('change', function() {
                if (menuToggler.checked) {
                    menuTogglerLabel.setAttribute('aria-pressed', 'true');
                    sidebar.setAttribute('aria-hidden', 'false');
                } else {
                    menuTogglerLabel.setAttribute('aria-pressed', 'false');
                    sidebar.setAttribute('aria-hidden', 'true');
                }

                for (let menuLink of menuLinks) {
                    if (menuToggler.checked) {
                        menuLink.setAttribute('tabindex', '0');
                    } else {
                        menuLink.setAttribute('tabindex', '-1');
                    }
                }
            });

            let menuItems = document.getElementsByClassName('menu_item');

            for (let menuLink of menuLinks) {
                menuLink.addEventListener('click', function() {
                    for (let menuItem of menuItems) {
                        menuItem.style.backgroundColor = "#1d1d25";
                        menuItem.style.boxShadow = "";
                    }
                    menuLink.parentElement.style.backgroundColor = "#1b1a20";
                    menuLink.parentElement.style.boxShadow = "inset 0 8px 5px -5px rgba(0,0,0,0.2), inset 0 -8px 5px -5px rgba(0,0,0,0.2)";
                });
            }
        </script>
    </div>
</body>

</html>